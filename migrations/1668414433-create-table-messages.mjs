export async function up(sql) {
  await sql`
    CREATE TABLE messages (
      id integer PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
      conversation_id INTEGER REFERENCES conversations(id) ON DELETE CASCADE,
      sender_id INTEGER REFERENCES users(id) ON DELETE CASCADE,
      message_body TEXT NOT NULL,
      is_read BOOLEAN NOT NULL DEFAULT FALSE,
      created_at TIMESTAMP NOT NULL DEFAULT NOW()
    );
  `;
}

export async function down(sql) {
  await sql`
    DROP TABLE messages
  `;
}
